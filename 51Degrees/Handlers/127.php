<?php
/**
 * @file
 * Auto Generated Code - DO NOT EDIT
 *
 * See http://51degrees.mobi/Support/Documentation/PHP#AutoGeneratedSourceCode for more details.*
 */

/**
 * See LICENSE.TXT for terms of use and copyright.
 */

/**
 * Calculates the matching score between the two strings for this handler.
 *
 * &$target string
 *   The string we're trying to find the closest value to.
 * $test string
 *   The string that we're testing against.
 * $ls integer
 *   The lowest score we've found so far.
 * return integer
 *   The score between the two strings.
 */
function E127($target, $test, $ls) {
  $score = 0;
  fiftyone_degrees_calculate_segment_score($target[0], $test[0], $ls, 10000, $score);
  if ($score == PHP_INT_MAX) {
    return PHP_INT_MAX;
  }
  fiftyone_degrees_calculate_segment_score($target[1], $test[1], $ls, 10000, $score);
  if ($score == PHP_INT_MAX) {
    return PHP_INT_MAX;
  }
  fiftyone_degrees_calculate_segment_score($target[2], $test[2], $ls, 10000, $score);
  if ($score == PHP_INT_MAX) {
    return PHP_INT_MAX;
  }
  return $score;
}

/**
 * Returns the details of the devices that are closest to the
 * useragent string provided.
 *
 * $useragent string
 *   The useragent we're trying to find.
 * return array
 *   An array of device details for the closest devices.
 */
function _H127($useragent) {

  $ls = PHP_INT_MAX;
  $dl = array();

  // Calculate the segments for the useragent.
  $segments = array(
    0 => fiftyone_degrees_preg_match_all('#Minefield/\\d\\.\\d#', $useragent),
    1 => fiftyone_degrees_preg_match_all('#Windows NT \\d\\.\\d#', $useragent),
    2 => fiftyone_degrees_preg_match_all('#Ubuntu/\\d\\.\\d#', $useragent));
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.0'), 1 => NULL, 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,142808,568160,913, 'Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9) Gecko Minefield/3.0', '15364-18110-21955-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.0'), 1 => array(0 => 'Windows NT 5.2'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,53254,568160,913, 'Mozilla/5.0 (Windows; U; Windows NT 5.2 x64; en-US; rv:1.9a1) Gecko/X Minefield/3.0a1', '15364-5690-21955-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.0'), 1 => array(0 => 'Windows NT 5.1'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,53254,568160,913, 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9a8pre) Gecko/X Minefield/3.0a8pre', '15364-5690-21955-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.0'), 1 => array(0 => 'Windows NT 6.0'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,66762,568160,913, 'Mozilla/5.0 (Windows; U; Windows NT 6.0 x64; en-US; rv:1.9pre) Gecko/X Minefield/3.0.2pre', '15364-17285-21955-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.7'), 1 => array(0 => 'Windows NT 6.1'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,117309,557304,913, 'Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.3a3pre) Gecko/X Minefield/3.7a3pre (.NET CLR 3.5.30729)', '15364-7133-21959-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.1'), 1 => array(0 => 'Windows NT 5.1'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,53254,926085,913, 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.1b1pre) Gecko/X Minefield/3.1b1pre', '15364-5690-21956-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.1'), 1 => array(0 => 'Windows NT 5.2'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,53254,926085,913, 'Mozilla/5.0 (Windows; U; Windows NT 5.2; en-US; rv:1.9.1b2pre) Gecko/X Minefield/3.1b2pre', '15364-5690-21956-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.6'), 1 => NULL, 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,142808,662644,913, 'Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2a1pre) Gecko/X Minefield/3.6a1pre', '15364-18110-21958-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.7'), 1 => array(0 => 'Windows NT 5.2'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,53254,557304,913, 'Mozilla/5.0 (Windows; U; Windows NT 5.2; Win64; x64; en-US; rv:1.9.3a5pre) Gecko/X Minefield/3.7a5pre', '15364-5690-21959-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.7'), 1 => array(0 => 'Windows NT 5.1'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,53254,557304,913, 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.3a5pre) Gecko/X Minefield/3.7a5pre', '15364-5690-21959-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.1'), 1 => array(0 => 'Windows NT 6.0'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,66762,926085,913, 'Mozilla/5.0 (Windows; U; Windows NT 6.0 x64; en-US; rv:1.9.1b2pre) Gecko/X Minefield/3.1b2pre', '15364-17285-21956-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/4.0'), 1 => array(0 => 'Windows NT 6.1'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,117309,553607,913, 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b4pre) Gecko/X Minefield/4.0b4pre', '15364-7133-21960-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.7'), 1 => array(0 => 'Windows NT 6.0'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,66762,557304,913, 'Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.3a3pre) Gecko/X Minefield/3.7a3pre', '15364-17285-21959-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/4.0'), 1 => array(0 => 'Windows NT 5.1'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,53254,553607,913, 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:2.0a1pre) Gecko/X Minefield/4.0a1pre', '15364-5690-21960-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.6'), 1 => array(0 => 'Windows NT 6.0'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,66762,662644,913, 'Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2a1pre) Gecko/X Minefield/3.6a1pre', '15364-17285-21958-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.0'), 1 => array(0 => 'Windows NT 5.0'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,68557,568160,913, 'Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.9b2pre) Gecko/X Minefield/3.0b2pre', '15364-7127-21955-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.0'), 1 => array(0 => 'Windows NT 6.1'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,117309,568160,913, 'Mozilla/5.0 (Windows; U; Windows NT 6.1 x64; en-US; rv:1.9.0.10) Gecko/X Minefield/3.0.10', '15364-7133-21955-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/4.0'), 1 => NULL, 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,142808,553607,913, 'Mozilla/5.0 (X11; Linux x86_64; en-US; rv:2.0b2pre) Gecko/X Minefield/4.0b2pre', '15364-18110-21960-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.2'), 1 => array(0 => 'Windows NT 6.1'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,117309,948622,913, 'Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2a1pre) Gecko/X Minefield/3.2a1pre', '15364-7133-21957-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.2'), 1 => array(0 => 'Windows NT 6.0'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,66762,948622,913, 'Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2a1pre) Gecko/X Minefield/3.2a1pre', '15364-17285-21957-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.6'), 1 => array(0 => 'Windows NT 5.1'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,53254,662644,913, 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2a1pre) Gecko/X Minefield/3.6a1pre', '15364-5690-21958-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.2'), 1 => array(0 => 'Windows NT 5.0'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,68557,948622,913, 'Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.9.2a1pre) Gecko/X Minefield/3.2a1pre', '15364-7127-21957-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.2'), 1 => NULL, 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,16068,948622,913, 'Mozilla/5.0 (Windows; U; Windows CE 6.0; en-US; rv:1.9.2a1pre) Gecko/X Minefield/3.2a1pre', '15364-5448-21957-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.2'), 1 => array(0 => 'Windows NT 5.1'), 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,53254,948622,913, 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2a1pre) Gecko/X Minefield/3.2a1pre', '15364-5690-21957-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.1'), 1 => NULL, 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,142808,926085,913, 'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1b1pre) Gecko/X Minefield/3.1b1pre', '15364-18110-21956-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.7'), 1 => NULL, 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,142808,557304,913, 'Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.3a1pre) Gecko/X Minefield/3.7a1pre', '15364-18110-21959-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.1'), 1 => NULL, 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,559158,926085,913, 'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1b2) Gecko/X Fedora/3.1-0.4.beta2.fc11 Minefield/3.1b2', '15364-22202-21956-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.0'), 1 => NULL, 2 => array(0 => 'Ubuntu/8.1')), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,514531,568160,913, 'Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.6) Gecko/X Ubuntu/8.10 (intrepid) Minefield/3.0 MEGAUPLOAD 2.0', '15364-17814-21955-18092');
    $ls = $ns;
  }
  $ns = E127($segments, array(0 => array(0 => 'Minefield/3.2'), 1 => NULL, 2 => NULL), $ls);
  if ($ns <= $ls) {
    if ($ns < $ls) {
      unset($dl);
    }
    $dl[] = array(53173,142808,948622,913, 'Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2a1pre) Gecko/X Minefield/3.2a1pre', '15364-18110-21957-18092');
    $ls = $ns;
  }
  return $dl;
}
